packages = c( "rgdal")
for (p in setdiff(packages, installed.packages()[, "Package"])) {
install.packages(p, dependencies = T)
}
?readOGR()
readOGR("./Shapes/brasil_mun_ibge/brasil_mun_ibge.shp")
require(rgdal)
readOGR("./Shapes/brasil_mun_ibge/brasil_mun_ibge.shp")
br_mun=readOGR("./Shapes/brasil_mun_ibge/brasil_mun_ibge.shp")
plot(br_mun)
str(br_mun)
br_mun$NOMEMUNICP
br_mun$NOMEMUNIC
br_mun$NOMEUF
crs(br_mun)
require(raster)
crs(br_mun)
proj4string(br_mun) <- CRS("+proj=longlat +datum=WGS84 +no_defs +ellps=WGS84 +towgs84=0,0,0")
proj4string(br_mun)
crs(br_mun)
br_mun=readShapeSpatial("./Shapes/brasil_mun_ibge/brasil_mun_ibge.shp")
require(maptools)
br_mun=readShapeSpatial("./Shapes/brasil_mun_ibge/brasil_mun_ibge.shp")
crs(br_mun)
br_mun
plot(br_mun)
br_mun$NOMEMUNICP
proj4string(br_mun) <- CRS("+proj=longlat +datum=WGS84 +no_defs +ellps=WGS84 +towgs84=0,0,0")
crs(br_mun)
br_mun
packages = c( "rgdal", "raster", "maptools")
?dismo
??dismo
acaule
dismo::acaule
data(acaule)
data(dismo::acaule)
packages = c( "rgdal", "raster", "maptools", "dismo")
require(packages)
require(paste0(packages))
paste0(packages)
require(paste0(packages))
require(dismo)
data(acaule)
acaule
pts=acaule[,c(1,8,7)]
pts
names(acaule)
rgbif::occ_data("Manilkara maxima")
?rgbif::occ_data("Manilkara maxima")
rgbif::occ_data(scientificName = "Manilkara maxima")
manimax=rgbif::occ_data(scientificName = "Manilkara maxima")
pts=manimax[,c(1,8,7)]
pts=manimax
pts
str(pts)
manimax[[1]]
class(pts)
gbif(species="manilkara maxima")
gbif(genus, 'manilkara', species="manilkara maxima")
gbif(genus= 'manilkara', species="manilkara maxima")
gbif(genus= 'manilkara')
?gbif
manimax=gbif("Manilkara", "maxima")
manimax
pts=manimax[,c(1,8,7)]
pts
names(manimax)
pts=manimax[,c("class")]
pts
pts=manimax[,c("species","","","")]
manimax$municipality
pts=manimax[,c("species","lon","lat","municipality")]
pts
is.na(pts$municipality)
pts1=as.data.frame(pts)
pts1
pts=na.exclude(pts)
pts1=as.data.frame(pts)
pts1
dim(pts)
br_mun
pts1$muni_shape=over(pts,br_mun)[,c('NOMEMUNICP','NOMEUF')]
over(pts,br_mun)[,c('NOMEMUNICP','NOMEUF')]
pts
over(pts,br_mun)[,c('NOMEMUNICP','NOMEUF')]
over(pts[,'lon','lat'],br_mun)[,c('NOMEMUNICP','NOMEUF')]
pts[,'lon','lat']
pts[,c('lon','lat')]
over(pts[,c('lon','lat')],br_mun)[,c('NOMEMUNICP','NOMEUF')]
manimax=gbif("Manilkara", "maxima")
pts=manimax[,c("species","lon","lat","municipality")]
pts=na.exclude(pts)
coordinates(pts)<- ~lon+lat
br_mun=readShapeSpatial("./Shapes/brasil_mun_ibge/brasil_mun_ibge.shp")
proj4string(br_mun) <- CRS("+proj=longlat +datum=WGS84 +no_defs +ellps=WGS84 +towgs84=0,0,0")
proj4string(pts) <- CRS("+proj=longlat +datum=WGS84 +no_defs +ellps=WGS84 +towgs84=0,0,0")
pts1=as.data.frame(pts)
over(pts[,c('lon','lat')],br_mun)[,c('NOMEMUNICP','NOMEUF')]
over(pts,br_mun)[,c('NOMEMUNICP','NOMEUF')]
pts1=cbind(pts1,muni_shape)
muni_shape=over(pts,br_mun)[,c('NOMEMUNICP','NOMEUF')]
pts1=cbind(pts1,muni_shape)
pts1
pts1$municipality==pts1$NOMEMUNICP
pts1$NOMEMUNICP
pts1$municipality==as.vector(pts1$NOMEMUNICP)
manimax$locality
manimax[1,]
manimax[1:5,]
manimax=gbif("Manilkara", "maxima")
pts=manimax[,c("species","lon","lat","municipality", "adm1")]
pts=na.exclude(pts)
coordinates(pts)<- ~lon+lat
proj4string(br_mun) <- CRS("+proj=longlat +datum=WGS84 +no_defs +ellps=WGS84 +towgs84=0,0,0")
proj4string(pts) <- CRS("+proj=longlat +datum=WGS84 +no_defs +ellps=WGS84 +towgs84=0,0,0")
pts1=as.data.frame(pts)
muni_shape=over(pts,br_mun)[,c('NOMEMUNICP','NOMEUF')]
pts1=cbind(pts1,muni_shape)
pts1
pts1$adm1==pts1$NOMEMUNICP
?drop
muni_shape=over(pts,br_mun)[,c('NOMEMUNICP','NOMEUF')]
muni_shape[,1]=as.vector(muni_shape[,1])
muni_shape[,2]=as.vector(muni_shape[,2])
pts1=cbind(pts1,muni_shape)
pts1$municipality==pts1$NOMEMUNICP
pts1$adm1==pts1$NOMEMUNICP
pts1
pts1$NOMEMUNICP
muni_shape
as.vector(muni_shape[,1])
muni_shape=over(pts,br_mun)[,c('NOMEMUNICP','NOMEUF')]
muni_shape[,1]=as.vector(muni_shape[,1])
muni_shape[,2]=as.vector(muni_shape[,2])
muni_shape
pts1=cbind(pts1,muni_shape)
pts1$NOMEMUNICP
str(pts1)
pts1=as.data.frame(pts)
muni_shape=over(pts,br_mun)[,c('NOMEMUNICP','NOMEUF')]
muni_shape[,1]=as.vector(muni_shape[,1])
muni_shape[,2]=as.vector(muni_shape[,2])
pts1=cbind(pts1,muni_shape)
pts1
pts1$NOMEMUNICP
pts1$municipality==pts1$NOMEMUNICP
pts1$adm1==pts1$NOMEMUNICP
?content_transformer(tolower)
?content_transformer
??content_transformer
require(tm)
?tolower
tolower(muni_shape$NOMEMUNICP)
muni_shape$NOMEMUNICP
tolower(pts1)
1:dim(pts1)[1]
for(i in 1:dim(pts1)[1]){
pts1[,i]=tolower(pts1[,i])
}
pts1
pts1$municipality==pts1$NOMEMUNICP
pts1$adm1==pts1$NOMEMUNICP
pts1$adm1
pts1$NOMEMUNICP
pts1$adm1==pts1$NOMEUF
pts1$municipality==pts1$NOMEMUNICP
pts1$adm1==pts1$NOMEUF
pts1$municipality
pts1$NOMEMUNICP
pts1$municipality[2]==pts1$NOMEMUNICP[2]
pts1$municipality[2]
pts1$NOMEMUNICP[2]
?stripWhitespace
rgdal::readOGR('C:/Users/JBRJ/Desktop/brasil_ibge_Dissolve/')
rgdal::readOGR(dns='C:/Users/JBRJ/Desktop/brasil_ibge_Dissolve/')
rgdal::readOGR(dns='C:/Users/JBRJ/Desktop/brasil_ibge_Dissolve/brasil_ibge_Dissolve.shp')
rgdal::readOGR(dsn='C:/Users/JBRJ/Desktop/brasil_ibge_Dissolve/brasil_ibge_Dissolve.shp')
rgdal::readOGR(dsn='C:/Users/JBRJ/Desktop/brasil_ibge_Dissolve/')
rgdal::readOGR(dsn='C:/Users/JBRJ/Desktop/brasil_ibge_Dissolve/brasil_ibge_Dissolve.shp')
plot(rgdal::readOGR(dsn='C:/Users/JBRJ/Desktop/brasil_ibge_Dissolve/'))
plot(rgdal::readOGR(dsn='C:/Users/JBRJ/Desktop/brasil_ibge_Dissolve/brasil_ibge_Dissolve.shp'))
aa=rgdal::readOGR(dsn='C:/Users/JBRJ/Desktop/brasil_ibge_Dissolve/brasil_ibge_Dissolve.shp')
crs(aa)
?crs(aa)
